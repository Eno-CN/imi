# 中间件

[toc]

中间件是一种常见的设计模式，用于在请求处理的前后执行某些操作，例如身份验证、数据验证、日志记录、性能分析等。

中间件可以拦截请求，进行某些操作，再将请求传递给下一个中间件或控制器进行处理。

在 imi 中，http、WebSocket、TCP、UDP 服务都使用了中间件，下面简单介绍一下中间件的执行顺序。

中间件是按顺序**开始**执行的，但是后执行的中间件先执行完毕。

先执行完毕的中间件，返回结果给前面的中间件。

前面的中间件不一定会采用获得的结果，它有可能对这个结果做修改。

举个简单的例子：A、B、C三个中间件，执行顺序为：`先进A，再进B，再进C，C执行完，B执行完，A执行完`
